{"ast":null,"code":"import _objectSpread from\"C:/program/samurai-way-TS/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect}from'react';import{useFormik}from'formik';import style from'./login.module.css';import Button from'../common/Button/Button';import{Input}from'../common/Input/Input';import{useAppDispatch,useAppSelector}from'../../utils/hooks/hooks';import{fetchAuthorization}from'../../redux/appReducer';import{useNavigate}from'react-router-dom';import{validationLogin}from'../../utils/validation/validation';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Login=function Login(){var dispatch=useAppDispatch();var authorizedStatus=useAppSelector(function(state){return state.app.authorizedStatus;});var navigate=useNavigate();useEffect(function(){if(authorizedStatus==='successfully')navigate('/');},[authorizedStatus]);var formik=useFormik({initialValues:{email:'',password:''},validationSchema:validationLogin,onSubmit:function onSubmit(values,_ref){var setStatus=_ref.setStatus;dispatch(fetchAuthorization(values.email,values.password,setStatus));}});var disabled=formik.touched.password&&formik.touched.email&&!!(formik.errors.email||formik.errors.password);return/*#__PURE__*/_jsx(\"div\",{className:style.loginBloc,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsx(Input,_objectSpread(_objectSpread({id:'email',label:'Email'},formik.getFieldProps('email')),{},{error:formik.errors.email,touched:formik.touched.email,onBlur:function onBlur(){return formik.setFieldTouched('email',true);}})),/*#__PURE__*/_jsx(Input,_objectSpread(_objectSpread({id:\"password\",label:\"Password\",type:\"password\"},formik.getFieldProps('password')),{},{error:formik.errors.password||formik.status,touched:formik.touched.password,onBlur:function onBlur(){return formik.setFieldTouched('password',true);}})),/*#__PURE__*/_jsx(Button,{type:\"submit\",className:style.loginBtn,disabled:disabled,children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]})});};","map":{"version":3,"names":["React","useEffect","useFormik","style","Button","Input","useAppDispatch","useAppSelector","fetchAuthorization","useNavigate","validationLogin","Login","dispatch","authorizedStatus","state","app","navigate","formik","initialValues","email","password","validationSchema","onSubmit","values","setStatus","disabled","touched","errors","loginBloc","handleSubmit","getFieldProps","setFieldTouched","status","loginBtn"],"sources":["C:/program/samurai-way-TS/src/components/Login/Login.tsx"],"sourcesContent":["import React, {useEffect} from 'react';\r\nimport {useFormik} from 'formik';\r\nimport style from './login.module.css'\r\nimport Button from '../common/Button/Button';\r\nimport {Input} from '../common/Input/Input';\r\nimport {useAppDispatch, useAppSelector} from '../../utils/hooks/hooks';\r\nimport {fetchAuthorization} from '../../redux/appReducer';\r\nimport {useNavigate} from 'react-router-dom';\r\nimport {validationLogin} from '../../utils/validation/validation';\r\n\r\n\r\nexport const Login = () => {\r\n    const dispatch = useAppDispatch()\r\n    const authorizedStatus = useAppSelector(state => state.app.authorizedStatus)\r\n    const navigate = useNavigate()\r\n\r\n    useEffect(() => {\r\n        if (authorizedStatus === 'successfully') navigate('/')\r\n    }, [authorizedStatus])\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            email: '',\r\n            password: '',\r\n        },\r\n        validationSchema: validationLogin,\r\n        onSubmit: (values, {setStatus}) => {\r\n            dispatch(fetchAuthorization(values.email, values.password, setStatus));\r\n        },\r\n    });\r\n    const disabled = (formik.touched.password && formik.touched.email && !!(formik.errors.email || formik.errors.password))\r\n    return (\r\n        <div className={style.loginBloc}>\r\n            <form onSubmit={formik.handleSubmit}>\r\n                <Input id={'email'}\r\n                       label={'Email'}\r\n                       {...formik.getFieldProps('email')}\r\n                       error={formik.errors.email}\r\n                       touched={formik.touched.email}\r\n                       onBlur={() => formik.setFieldTouched('email', true)}\r\n                />\r\n                <Input id=\"password\"\r\n                       label=\"Password\"\r\n                       type=\"password\"\r\n                       {...formik.getFieldProps('password')}\r\n                       error={formik.errors.password || formik.status}\r\n                       touched={formik.touched.password}\r\n                       onBlur={() => formik.setFieldTouched('password', true)}\r\n                />\r\n                <Button type=\"submit\"\r\n                        className={style.loginBtn}\r\n                        disabled={disabled}\r\n                >\r\n                    Войти\r\n                </Button>\r\n            </form>\r\n        </div>\r\n    );\r\n};"],"mappings":"8GAAA,MAAOA,MAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,OAAQC,SAAR,KAAwB,QAAxB,CACA,MAAOC,MAAP,KAAkB,oBAAlB,CACA,MAAOC,OAAP,KAAmB,yBAAnB,CACA,OAAQC,KAAR,KAAoB,uBAApB,CACA,OAAQC,cAAR,CAAwBC,cAAxB,KAA6C,yBAA7C,CACA,OAAQC,kBAAR,KAAiC,wBAAjC,CACA,OAAQC,WAAR,KAA0B,kBAA1B,CACA,OAAQC,eAAR,KAA8B,mCAA9B,C,wFAGA,MAAO,IAAMC,MAAK,CAAG,QAARA,MAAQ,EAAM,CACvB,GAAMC,SAAQ,CAAGN,cAAc,EAA/B,CACA,GAAMO,iBAAgB,CAAGN,cAAc,CAAC,SAAAO,KAAK,QAAIA,MAAK,CAACC,GAAN,CAAUF,gBAAd,EAAN,CAAvC,CACA,GAAMG,SAAQ,CAAGP,WAAW,EAA5B,CAEAR,SAAS,CAAC,UAAM,CACZ,GAAIY,gBAAgB,GAAK,cAAzB,CAAyCG,QAAQ,CAAC,GAAD,CAAR,CAC5C,CAFQ,CAEN,CAACH,gBAAD,CAFM,CAAT,CAIA,GAAMI,OAAM,CAAGf,SAAS,CAAC,CACrBgB,aAAa,CAAE,CACXC,KAAK,CAAE,EADI,CAEXC,QAAQ,CAAE,EAFC,CADM,CAKrBC,gBAAgB,CAAEX,eALG,CAMrBY,QAAQ,CAAE,kBAACC,MAAD,MAAyB,IAAfC,UAAe,MAAfA,SAAe,CAC/BZ,QAAQ,CAACJ,kBAAkB,CAACe,MAAM,CAACJ,KAAR,CAAeI,MAAM,CAACH,QAAtB,CAAgCI,SAAhC,CAAnB,CAAR,CACH,CARoB,CAAD,CAAxB,CAUA,GAAMC,SAAQ,CAAIR,MAAM,CAACS,OAAP,CAAeN,QAAf,EAA2BH,MAAM,CAACS,OAAP,CAAeP,KAA1C,EAAmD,CAAC,EAAEF,MAAM,CAACU,MAAP,CAAcR,KAAd,EAAuBF,MAAM,CAACU,MAAP,CAAcP,QAAvC,CAAtE,CACA,mBACI,YAAK,SAAS,CAAEjB,KAAK,CAACyB,SAAtB,uBACI,cAAM,QAAQ,CAAEX,MAAM,CAACY,YAAvB,wBACI,KAAC,KAAD,8BAAO,EAAE,CAAE,OAAX,CACO,KAAK,CAAE,OADd,EAEWZ,MAAM,CAACa,aAAP,CAAqB,OAArB,CAFX,MAGO,KAAK,CAAEb,MAAM,CAACU,MAAP,CAAcR,KAH5B,CAIO,OAAO,CAAEF,MAAM,CAACS,OAAP,CAAeP,KAJ/B,CAKO,MAAM,CAAE,wBAAMF,OAAM,CAACc,eAAP,CAAuB,OAAvB,CAAgC,IAAhC,CAAN,EALf,GADJ,cAQI,KAAC,KAAD,8BAAO,EAAE,CAAC,UAAV,CACO,KAAK,CAAC,UADb,CAEO,IAAI,CAAC,UAFZ,EAGWd,MAAM,CAACa,aAAP,CAAqB,UAArB,CAHX,MAIO,KAAK,CAAEb,MAAM,CAACU,MAAP,CAAcP,QAAd,EAA0BH,MAAM,CAACe,MAJ/C,CAKO,OAAO,CAAEf,MAAM,CAACS,OAAP,CAAeN,QAL/B,CAMO,MAAM,CAAE,wBAAMH,OAAM,CAACc,eAAP,CAAuB,UAAvB,CAAmC,IAAnC,CAAN,EANf,GARJ,cAgBI,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CACQ,SAAS,CAAE5B,KAAK,CAAC8B,QADzB,CAEQ,QAAQ,CAAER,QAFlB,4CAhBJ,GADJ,EADJ,CA2BH,CA/CM"},"metadata":{},"sourceType":"module"}