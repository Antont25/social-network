{"ast":null,"code":"import React,{useMemo}from'react';import style from'./pagination.module.css';import IconButton from'@material-ui/core/IconButton';import{ArrowBack,ArrowForward}from'@material-ui/icons';import List from'@material-ui/core/List';import{ListItem}from'@material-ui/core';import{useAppDispatch}from'../../../utils/hooks/hooks';import{setCurrentPage,setPortionsNumber}from'../../../redux/usersReducer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Pagination=/*#__PURE__*/React.memo(function(props){var dispatch=useAppDispatch();var _useMemo=useMemo(function(){var pages=Math.ceil(props.totalCount/props.pageSize);var arrayPages=[];for(var i=1;i<=pages;i++){arrayPages.push(i);}return{portions:Math.ceil(pages/10),arrayPages:arrayPages};},[props.totalCount,props.pageSize]),portions=_useMemo.portions,arrayPages=_useMemo.arrayPages;var leftPortions=(props.portionsNumber-1)*10+1;var rightPortions=props.portionsNumber*10;var showPage=arrayPages.filter(function(item){return item>=leftPortions&&item<=rightPortions;}).map(function(item,index){return/*#__PURE__*/_jsx(ListItem,{button:true,className:item===props.currentPage?\"\".concat(style.active,\" \").concat(style.listItemNum):style.listItemNum,onClick:function onClick(){return dispatch(setCurrentPage(item));},children:item},index);});function onClickLeftHandler(){dispatch(setPortionsNumber(props.portionsNumber-1));}function onClickRightHandler(){dispatch(setPortionsNumber(props.portionsNumber+1));}return/*#__PURE__*/_jsxs(\"div\",{className:style.paginationBlock,children:[/*#__PURE__*/_jsx(IconButton,{color:\"primary\",\"aria-label\":\"upload picture\",component:\"span\",disabled:props.portionsNumber<2,onClick:onClickLeftHandler,children:/*#__PURE__*/_jsx(ArrowBack,{})}),/*#__PURE__*/_jsx(List,{children:showPage}),/*#__PURE__*/_jsx(IconButton,{color:\"primary\",\"aria-label\":\"upload picture\",component:\"span\",disabled:props.portionsNumber===portions,onClick:onClickRightHandler,children:/*#__PURE__*/_jsx(ArrowForward,{})})]});});","map":{"version":3,"names":["React","useMemo","style","IconButton","ArrowBack","ArrowForward","List","ListItem","useAppDispatch","setCurrentPage","setPortionsNumber","Pagination","memo","props","dispatch","pages","Math","ceil","totalCount","pageSize","arrayPages","i","push","portions","leftPortions","portionsNumber","rightPortions","showPage","filter","item","map","index","currentPage","active","listItemNum","onClickLeftHandler","onClickRightHandler","paginationBlock"],"sources":["C:/program/samurai-way-TS/src/components/common/Pagination/Pagination.tsx"],"sourcesContent":["import React, {useMemo} from 'react';\r\nimport style from './pagination.module.css'\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport {ArrowBack, ArrowForward} from '@material-ui/icons';\r\nimport List from '@material-ui/core/List';\r\nimport {ListItem} from '@material-ui/core';\r\nimport {useAppDispatch} from '../../../utils/hooks/hooks';\r\nimport {setCurrentPage, setPortionsNumber} from '../../../redux/usersReducer';\r\n\r\n\r\ntype PaginationPropsType = {\r\n    totalCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    portionsNumber: number\r\n}\r\n\r\nexport const Pagination: React.FC<PaginationPropsType> = React.memo((props) => {\r\n        const dispatch = useAppDispatch()\r\n        let {portions, arrayPages} = useMemo((): { portions: number, arrayPages: Array<number>, } => {\r\n            let pages = Math.ceil(props.totalCount / props.pageSize)\r\n            let arrayPages = []\r\n            for (let i = 1; i <= pages; i++) {\r\n                arrayPages.push(i)\r\n            }\r\n\r\n            return {\r\n                portions: Math.ceil(pages / 10),\r\n                arrayPages,\r\n            }\r\n\r\n        }, [props.totalCount, props.pageSize])\r\n\r\n\r\n        let leftPortions = (props.portionsNumber - 1) * 10 + 1\r\n        let rightPortions = props.portionsNumber * 10\r\n        let showPage = arrayPages.filter((item: number) => item >= leftPortions && item <= rightPortions)\r\n            .map((item, index) => <ListItem button\r\n                                            key={index}\r\n                                            className={item === props.currentPage ? `${style.active} ${style.listItemNum}` : style.listItemNum}\r\n                                            onClick={() => dispatch(setCurrentPage(item))}\r\n            >\r\n                {item}\r\n            </ListItem>)\r\n\r\n\r\n        function onClickLeftHandler() {\r\n            dispatch(setPortionsNumber(props.portionsNumber - 1))\r\n        }\r\n\r\n        function onClickRightHandler() {\r\n            dispatch(setPortionsNumber(props.portionsNumber + 1))\r\n        }\r\n\r\n\r\n        return (\r\n            <div className={style.paginationBlock}>\r\n                <IconButton color=\"primary\"\r\n                            aria-label=\"upload picture\"\r\n                            component=\"span\"\r\n                            disabled={props.portionsNumber < 2}\r\n                            onClick={onClickLeftHandler}\r\n                >\r\n                    <ArrowBack/>\r\n                </IconButton>\r\n                <List>\r\n                    {showPage}\r\n                </List>\r\n                <IconButton color=\"primary\"\r\n                            aria-label=\"upload picture\"\r\n                            component=\"span\"\r\n                            disabled={props.portionsNumber === portions}\r\n                            onClick={onClickRightHandler}\r\n                >\r\n                    <ArrowForward/>\r\n                </IconButton>\r\n\r\n            </div>\r\n        );\r\n    }\r\n)\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}